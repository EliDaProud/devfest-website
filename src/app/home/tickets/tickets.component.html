<div class="ticket-holder" *ngIf="ticketGroups; else loading">
  <ng-container *ngFor="let ticketGroup of ticketGroups">
    <div class="ticket" [@fadeInOut] 
    [ngClass]="!ticketGroup.tickets[0].sold_out && ticketGroup.tickets[0].active ? 'box-shadow-red': 'box-shadow-white'" *ngIf="ticketGroup.tickets[0] != null">
      <h1 class="ticketgroup-name">{{ticketGroup.name}}</h1>
      <div class="one-ticket" *ngFor="let ticket of ticketGroup.tickets">
        <div class="ticket-name">{{ticket.tic.publicName}}</div>
        <div class="czech-price">{{ticket.price | number : 0}} CZK</div>
        <div class="eur-price">~{{ticket.eur_price}} â‚¬</div>
      </div>
      <div class="description" *ngIf="ticketGroup.showDescription">
        {{ticketGroup.tickets[0].description}}
      </div>
      <div class="count" *ngIf="ticketGroup.showCount">
        First {{ticketGroup.tickets[0].quantity}}
      </div>
      <div class="date" *ngIf="ticketGroup.showEnd">
        Until {{ticketGroup.tickets[0].end | date}}
      </div>
      <div class="date" *ngIf="ticketGroup.showStart">
        From {{ticketGroup.tickets[0].start | date}}
      </div>
      <div class="ticket-status-unavailable unactive"
        *ngIf="!ticketGroup.tickets[0].sold_out && !ticketGroup.tickets[0].active">
        UNAVAILABLE
      </div>
      <div class="ticket-status-sold unactive" *ngIf="ticketGroup.tickets[0].sold_out && ticketGroup.tickets[0].active">
        SOLD OUT
      </div>
      <a class="ticket-status-buy" [href]="ticketGroup.tickets[0].url" *ngIf="!ticketGroup.tickets[0].sold_out && ticketGroup.tickets[0].active">
        BUY NOW!
      </a>
    </div>
  </ng-container>
</div>

<ng-template #loading>
  <div class="spinner-holder">
      <mat-spinner></mat-spinner>
  </div>
</ng-template>