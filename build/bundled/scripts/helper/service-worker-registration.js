HOVERBOARD.ServiceWorkerRegistration=function(){"use strict";var e=!1,r="service-worker.js",t="./",o=function(){e||(e=!0,"serviceWorker"in navigator&&navigator.serviceWorker.register(r,{scope:t}).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){switch(r.state){case"installed":navigator.serviceWorker.controller||HOVERBOARD.Elements.Template.$.toast.showMessage("Caching complete! Future visits will work offline.");break;case"redundant":throw Error("The installing service worker became redundant.")}}}}).catch(function(e){HOVERBOARD.Analytics.trackError("navigator.serviceWorker.register() error",e),console.error("Service worker registration failed:",e)}))},n=function(){navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(e){e.forEach(function(e){e.scope.endsWith("firebase-cloud-messaging-push-scope")||e.unregister()})})};return navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.onstatechange=function(e){"redundant"===e.target.state&&(HOVERBOARD.Elements&&HOVERBOARD.Elements.Template&&HOVERBOARD.Elements.Template.$.toast.showNewPageNotice?HOVERBOARD.Elements.Template.$.toast.showNewPageNotice():window.location.reload())}),{register:o,unregister:n,URL:r,SCOPE:t}}();